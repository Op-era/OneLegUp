<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>One Leg Up - Event Hosting</title>
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body {
      background: black;
      color: white;
      font-family: Arial, sans-serif;
      overflow-x: hidden;
      user-select: none;
    }

    #smokeCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
      pointer-events: none;
    }

    .main-container {
      display: flex;
      position: relative;
      z-index: 10;
      min-height: 100vh;
      padding: 20px;
      gap: 20px;
    }

    .left-column {
      flex: 1;
    }

    .center-column {
      flex: 2;
      max-width: 600px;
    }

    .right-column {
      flex: 1;
      max-width: 350px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .scrolling-banner {
      position: relative;
      width: 320px; /* same as poster width */
      height: 50px;
      overflow: hidden;
      margin-bottom: 15px;
      background: transparent;
      /* no border */
    }

    .scrolling-text {
      display: inline-block;
      white-space: nowrap;
      color: #0ff;
      font-weight: bold;
      font-size: 1.1rem;
      text-shadow:
        0 0 8px #0ff,
        0 0 15px #0ff,
        0 0 20px #0ff;
      will-change: transform;
      position: absolute;
      left: 100%;
      top: 50%;
      transform: translateY(-50%);
    }

    .flash-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #0ff;
      font-weight: 900;
      font-size: 1.8rem;
      text-shadow:
        0 0 10px #0ff,
        0 0 20px #0ff,
        0 0 30px #0ff,
        0 0 40px #0ff;
      opacity: 0;
      pointer-events: none;
      user-select: none;
      will-change: opacity, transform;
      white-space: nowrap;
      z-index: 2;
    }

    .events h2 {
      margin-bottom: 10px;
      font-size: 1.6rem;
      color: #0ff;
      text-shadow:
        0 0 8px #0ff;
    }
    .event {
      background: rgba(0,0,0,0.4);
      border-radius: 8px;
      margin-bottom: 15px;
      padding: 12px;
      transition: transform 0.3s ease;
    }
    .event:hover {
      transform: scale(1.05);
    }
    .event h3 {
      color: #0ff;
      margin-bottom: 6px;
    }
    .event p {
      font-size: 0.9rem;
      line-height: 1.3;
    }
    .event a {
      color: #0ff;
      text-decoration: underline;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .poster-img {
      width: 320px;
      border-radius: 10px;
      margin-bottom: 15px;
      user-select: none;
      pointer-events: none;
    }

    .payment-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 100%;
      max-width: 320px;
    }

    .payment-buttons button {
      background: #0ff;
      border: none;
      padding: 12px;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 6px;
      color: black;
      transition: background 0.3s;
    }
    .payment-buttons button:hover {
      background: #08a;
      color: white;
    }
  </style>
</head>
<body>
  <canvas id="smokeCanvas"></canvas>

  <div class="main-container">
    <div class="left-column"></div>

    <div class="center-column">
      <div class="scrolling-banner" aria-label="Important event notice">
        <span class="scrolling-text" id="scrollingText">
          ALL SINGLE MALES MUST CONFIRM WITH HOSTS. Confirm by paying below. Message 559freakycouple on SLS your username and the email or account associated with your payment. Put your Swinglifestyle username in when making payments or message me when you pay!
        </span>
        <span class="flash-text" id="flashText">$10 more at the door!</span>
      </div>

      <div class="events" id="eventsContainer">
        <h2>Upcoming Parties</h2>
        <div class="event" data-date="2025-07-20">
          <h3><a href="payment.html">Sunday Funday Pool Party</a></h3>
          <p>Date: July 20, 2025<br>Location: Fresno, CA</p>
          <p>Join us for a Sunday funday! Full of wet play time for adults!</p>
          <p>Dive into the fun and connect with like-minded individuals in a relaxed, vibrant atmosphere. Mixers will be provided. BYOB</p>
          <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=395723" target="_blank" rel="noopener noreferrer">View on SLS</a>
        </div>
        <div class="event" data-date="2025-09-10">
          <h3>I'm almost there</h3>
          <p>Date: September 10, 2025<br>Location: Private Venue, CA</p>
          <a href="https://www.swinglifestyle.com" target="_blank" rel="noopener noreferrer">View on SLS</a>
        </div>

        <h2>Past Events</h2>
        <div id="pastEvents">
          <div class="event" data-date="2025-05-31">
            <h3><a href="payment.html">Skinny Dipping Pool Party</a></h3>
            <p>Date: May 31, 2025<br>Location: Fresno, CA</p>
            <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=393639" target="_blank" rel="noopener noreferrer">View on SLS</a>
            <img src="images/pool_party.jpg" alt="Skinny Dipping Pool Party Thumbnail" class="thumbnail" />
          </div>
        </div>
      </div>
    </div>

    <div class="right-column">
      <img src="images/party_poster.jpg" alt="Event Poster" class="poster-img" />
      <div class="payment-buttons">
        <button onclick="window.open('https://venmo.com/u/yourvenmo', '_blank')">Pay with Venmo</button>
        <button onclick="window.open('https://cash.app/$yourcashapp', '_blank')">Pay with Cash App</button>
        <button onclick="window.open('https://www.paypal.me/yourpaypal', '_blank')">Pay with PayPal</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/build/three.min.js"></script>
  <script>
    // Three.js Smoke Effect - your original shader and setup

    const canvas = document.getElementById('smokeCanvas');
    const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    const scene = new THREE.Scene();

    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);
    camera.position.z = 1;

    function generateNoiseTexture(width, height) {
      const canvas = document.createElement('canvas');
      canvas.width = width;
      canvas.height = height;
      const ctx = canvas.getContext('2d');
      const imageData = ctx.createImageData(width, height);
      for (let i = 0; i < imageData.data.length; i += 4) {
        const value = Math.random() * 255;
        imageData.data[i] = value;
        imageData.data[i + 1] = value;
        imageData.data[i + 2] = value;
        imageData.data[i + 3] = 255;
      }
      ctx.putImageData(imageData, 0, 0);
      return new THREE.CanvasTexture(canvas);
    }

    const noiseTexture = generateNoiseTexture(256, 256);
    noiseTexture.wrapS = noiseTexture.wrapT = THREE.RepeatWrapping;

    const geometry = new THREE.PlaneGeometry(2, 2);

    const vertexShader = `
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `;

    const fragmentShader = `
      uniform sampler2D noiseTexture;
      uniform float time;
      varying vec2 vUv;
      void main() {
        vec2 uv = vUv + vec2(-time * 0.1, time * 0.05);
        float noise = texture2D(noiseTexture, uv * 0.5).r;
        float noise2 = texture2D(noiseTexture, uv * 0.2 + vec2(time * 0.05, -time * 0.03)).r;
        float smoke = noise * noise2;
        float alpha = smoothstep(0.5, 1.0, vUv.x) * smoke * 0.7;
        vec3 color = vec3(
          abs(sin(time * 0.7 + vUv.x)),
          abs(sin(time * 0.8 + vUv.y)),
          abs(sin(time * 0.9 + vUv.x + vUv.y))
        );
        gl_FragColor = vec4(color, alpha);
      }
    `;

    const material = new THREE.ShaderMaterial({
      vertexShader,
      fragmentShader,
      uniforms: {
        noiseTexture: { value: noiseTexture },
        time: { value: 0.0 }
      },
      transparent: true,
      side: THREE.DoubleSide
    });

    const plane = new THREE.Mesh(geometry, material);
    scene.add(plane);

    function animate(time) {
      requestAnimationFrame(animate);
      material.uniforms.time.value = time * 0.001;
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.render(scene, camera);
    }
    animate(0);

    window.addEventListener('resize', () => {
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // --- Scrolling Banner & Flashing $10 More ---

    const scrollingText = document.getElementById('scrollingText');
    const flashText = document.getElementById('flashText');

    const scrollDuration = 20000; // ms for full scroll
    const flashDuration = 2000;   // ms flash

    function startScrollAnimation() {
      scrollingText.style.transition = 'none';
      scrollingText.style.transform = 'translateX(100%)';
      scrollingText.offsetHeight; // force reflow
      scrollingText.style.transition = `transform ${scrollDuration}ms linear`;
      scrollingText.style.transform = 'translateX(-' + scrollingText.offsetWidth + 'px)';
    }

    function flashAnimation() {
      flashText.style.opacity = '1';
      flashText.style.transform = 'translate(-50%, -50%) scale(1)';
      flashText.style.transition = 'transform 1s ease-in-out, opacity 1s ease-in-out';

      setTimeout(() => {
        flashText.style.transform = 'translate(-50%, -50%) scale(1.5)';
        flashText.style.opacity = '0.8';
      }, flashDuration / 2);

      setTimeout(() => {
        flashText.style.opacity = '0';
        flashText.style.transform = 'translate(-50%, -50%) scale(1)';
      }, flashDuration);
    }

    function cycleBanner() {
      flashAnimation();
      scrollingText.style.opacity = '0';

      setTimeout(() => {
        scrollingText.style.opacity = '1';
        startScrollAnimation();
      }, flashDuration);

      setTimeout(() => {
        cycleBanner();
      }, scrollDuration + flashDuration);
    }

    window.addEventListener('load', () => {
      cycleBanner();
    });
  </script>
</body>
</html>
