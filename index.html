<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>One Leg Up - Swingers Club</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    html,body{
      height:auto;min-height:100vh;
      background:#000;
      font-family:'Poppins',sans-serif;
      color:#fff;
      overflow-x:hidden;
    }
    #club-room{
      position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;
      perspective:1500px;
      transform-style:preserve-3d;
      pointer-events:none;
    }
    .fog{
      position:absolute;top:0;left:0;width:100%;height:100%;
      background:linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0.2));
      filter:blur(10px);
      opacity:0.7;
      animation:fogPulse 10s ease infinite;
    }
    @keyframes fogPulse{0%,100%{opacity:0.7;}50%{opacity:0.4;}}
    .floor{
      position:absolute;bottom:0;left:50%;width:300%;height:100%;
      background:repeating-linear-gradient(0deg, #111 0px, #111 20px, #00ff00 20px, #00ff00 40px);
      transform:translateX(-50%) rotateX(90deg);
      box-shadow:0 0 50px #00ff00;
      animation:floorGlow 4s ease infinite;
    }
    @keyframes floorGlow{0%,100%{box-shadow:0 0 50px #00ff00;}50%{box-shadow:0 0 100px #00ff00,0 0 200px #00ff00;}}
    .wall{
      position:absolute;width:300%;height:100%;
      background:#1a0033;
      box-shadow:inset 0 0 100px #ff00ff;
    }
    .wall-back{top:0;transform:translateZ(-100px);}
    .wall-left{left:0;transform:rotateY(90deg) translateZ(-150px);}
    .wall-right{right:0;transform:rotateY(-90deg) translateZ(-150px);}
    .laser{
      position:absolute;top:50%;left:50%;width:1px;height:400%;
      background:currentColor;
      box-shadow:0 0 15px currentColor,0 0 30px currentColor;
      transform:translate(-50%,-50%) rotate(0deg);
      opacity:0.9;
    }
    .laser1{color:#00ffff;}
    .laser2{color:#ff00ff;}
    .laser3{color:#00ff00;}
    .laser4{color:#ff4500;}
    .laser5{color:#ffff00;}
    .sign{
      position:fixed;top:15px;left:15px;
      width:160px;height:50px;
      background:#ff00ff;
      box-shadow:0 0 30px #ff00ff;
      display:flex;align-items:center;justify-content:center;
      font-size:1.5rem;font-weight:600;color:#000;
      z-index:100;
      animation:spinSign 8s linear infinite;
      transform-origin:center;
    }
    @keyframes spinSign{0%{transform:rotateY(0deg);}100%{transform:rotateY(360deg);}}
    .overlay{
      position:relative;z-index:10;pointer-events:auto;
      padding:90px 20px 40px 20px;
      max-width:1200px;margin:0 auto;
    }
    .header{position:relative;margin-bottom:20px;text-align:center;}
    .site-title{
      font-size:2.2rem;font-weight:600;color:#ff00ff;
      text-shadow:0 0 12px #ff00ff,0 0 24px #ff00ff;
      animation:neonPulse 2s ease infinite;
    }
    .content{
      display:flex;flex-wrap:wrap;gap:20px;
      margin-top:20px;
    }
    .left{
      flex:1 1 100%;display:flex;flex-direction:column;align-items:center;
      padding:0 10px;
    }
    .notice{
      text-align:center;font-weight:bold;color:#ff0000;
      font-size:1.3rem;margin:15px 0;padding:12px 16px;
      background:rgba(255,0,0,.1);border:2px solid #ff0000;
      border-radius:10px;max-width:100%;
      text-shadow:0 0 10px #ff0000;
      animation:flashGrow 2s ease-in-out infinite;
    }
    .rsvp-button{
      margin-top:20px;padding:14px 32px;background:#ff00ff;
      color:#000;font-weight:600;text-decoration:none;border-radius:8px;
      box-shadow:0 0 12px #ff00ff;transition:all .3s;
      font-size:1.1rem;text-align:center;
      min-width:280px;
    }
    .rsvp-button:hover{background:#00ff00;box-shadow:0 0 18px #00ff00;}
    .rsvp-note{
      margin-top:10px;font-size:0.9rem;color:#00ffff;text-align:center;
      max-width:300px;text-shadow:0 0 5px #00ffff;
    }
    .pricing{
      margin-top:18px;font-size:1.2rem;color:#00ff00;text-align:center;
      text-shadow:0 0 8px #00ff00;
      max-width:300px;
    }
    .pricing-note{
      margin-top:6px;font-size:0.75rem;color:#ccc;text-align:center;
      max-width:300px;line-height:1.3;
    }
    .countdown{
      margin-top:22px;font-size:1.6rem;color:#00ffff;
      text-shadow:0 0 10px #00ffff;text-align:center;
      max-width:300px;
    }
    .flyer{
      max-width:90%;margin:25px auto;border-radius:12px;
      box-shadow:0 0 20px #00ff00;display:block;
    }
    .events{
      flex:1 1 100%;padding:20px;
      background:rgba(26,0,51,.5);border-radius:12px;
      max-height:none;overflow-y:visible;
    }
    .events h2{
      font-size:1.8rem;color:#00ffff;
      text-shadow:0 0 10px #00ffff;animation:neonPulse 2s ease infinite;
      text-align:center;margin-bottom:15px;
    }
    .event{
      margin-bottom:20px;padding:14px;border-radius:8px;
      background:rgba(0,0,0,.3);transition:transform .3s,box-shadow .3s;
    }
    .event:hover{transform:scale(1.02);box-shadow:0 0 15px #ff00ff;}
    .event h3{
      font-size:1.35rem;color:#ff00ff!important;
      text-shadow:0 0 10px #ff00ff;animation:neonPulse 3s ease infinite!important;
      margin-bottom:8px;
    }
    .event p{
      font-size:0.95rem;color:#00ffff;
      text-shadow:0 0 5px #00ffff;margin:6px 0;
    }
    .event a{
      color:#ff00ff;text-decoration:none;font-weight:600;
      text-shadow:0 0 5px #ff00ff;display:inline-block;margin-top:8px;
    }
    .event a:hover{color:#00ff00;text-shadow:0 0 10px #00ff00;}
    @keyframes neonPulse{0%,100%{text-shadow:0 0 10px #ff00ff,0 0 20px #ff00ff}50%{text-shadow:0 0 15px #00ffff,0 0 25px #00ffff}}
    @keyframes flashGrow{0%,100%{transform:scale(1);opacity:1;text-shadow:0 0 10px #ff0000,0 0 20px #ff0000}50%{transform:scale(1.05);opacity:.9;text-shadow:0 0 25px #ff0000,0 0 35px #ff0000}}

    ::-webkit-scrollbar{width:10px;}
    ::-webkit-scrollbar-track{background:#000;}
    ::-webkit-scrollbar-thumb{background:#333;border:2px solid #000;}
    ::-webkit-scrollbar-thumb:hover{background:#555;}

    @media (min-width:768px){
      .content{flex-direction:row;}
      .left{flex:2 1 60%;padding:0;}
      .events{flex:1 1 35%;max-height:70vh;overflow-y:auto;}
      .sign{width:200px;height:60px;font-size:1.8rem;top:20px;left:20px;}
      .notice{font-size:1.4rem;padding:12px 20px;}
      .rsvp-button{font-size:1.1rem;padding:12px 30px;min-width:auto;}
      .pricing{font-size:1.2rem;max-width:100%;}
      .pricing-note{font-size:0.75rem;max-width:100%;}
      .countdown{font-size:1.6rem;max-width:100%;}
      .overlay{padding:100px 50px 40px 50px;}
      .flyer{max-width:80%;}
    }
  </style>
</head>
<body>

  <div id="club-room">
    <div class="fog"></div>
    <div class="floor"></div>
    <div class="wall wall-back"></div>
    <div class="wall wall-left"></div>
    <div class="wall wall-right"></div>
    <div class="laser laser1"></div>
    <div class="laser laser2"></div>
    <div class="laser laser3"></div>
    <div class="laser laser4"></div>
    <div class="laser laser5"></div>
  </div>

  <div class="sign">One Leg Up</div>

  <div class="overlay">
    <div class="header">
      <h1 class="site-title">One Leg Up</h1>
    </div>
    <div class="content">
      <div class="left">
        <div class="notice">
          All pay will be cash in envelopes at the door.
        </div>
        <a href="sms:15597875801" class="rsvp-button">
          Text 559-787-5801 for address
        </a>
        <div class="rsvp-note">
          You must text the number to receive the party address.
        </div>
        <div class="pricing">
          Single Males $80*, Single Females $40
        </div>
        <div class="pricing-note">
          * ask about a discount for bartending for 2 hours.
        </div>
        <div class="countdown" id="countdown">Loading...</div>
        <img src="images/neonglow.jpg" alt="Neon Glow Party Flyer" class="flyer">
      </div>
      <div class="events">
        <h2>Upcoming Parties</h2>
        <div id="upcoming-container"></div>

        <h2>Past Events</h2>
        <div id="past-container"></div>
      </div>
    </div>
  </div>

  <script>
    const allParties = [
      {
        date: "TBD",
        title: "Newbie-Friendly Party",
        desc: "Are you new to the lifestyle? This party is for you! 8 PM to 2 AM. Doors close 10 PM. BYOB. Ask us questions and learn from our experience!<br><strong>Cross streets: Maple & Shepherd</strong>",
        sls: "#",
        slsText: "View on SLS (link coming soon)"
      },
      {
        date: "2025-11-15",
        title: "NEON GLOW PARTY",
        desc: "Light up the night! Dress in vibrant neon. 8 PM to 2 AM. Doors close 10 PM. BYOB.<br><strong>Cross streets: Maple & Shepherd</strong>",
        sls: "https://www.swinglifestyle.com/events/showevent.cfm?eventid=399642",
        slsText: "View on SLS"
      },
      {
        date: "2025-10-04",
        title: "Oktoberfest Party",
        desc: "Join us for an Oktoberfest Party! Starts at 8 PM, doors close at 10 PM, party ends at 2 AM. Celebrate with festive vibes and connect with like-minded individuals. BYOB.<br><strong>Cross streets: Maple & Shepherd</strong>",
        sls: "https://www.swinglifestyle.com/events/showEvent.cfm?eventID=398628",
        slsText: "View on SLS"
      },
      {
        date: "2025-07-20",
        title: "Sunday Funday Pool Party",
        desc: "Join us for a Sunday funday! Full of wet play time for adults! Dive into the fun and connect with like-minded individuals in a relaxed, vibrant atmosphere. Mixers will be provided. BYOB<br><strong>Cross streets: Maple & Shepherd</strong>",
        sls: "https://www.swinglifestyle.com/events/showevent.cfm?eventid=395723",
        slsText: "View on SLS"
      },
      {
        date: "2025-05-31",
        title: "Skinny Dipping Pool Party",
        desc: "<strong>Cross streets: Maple & Shepherd</strong>",
        sls: "https://www.swinglifestyle.com/events/showevent.cfm?eventid=393639",
        slsText: "View on SLS"
      }
    ];

    function parseLocalDate(dateStr) {
      if (dateStr === "TBD") return null;
      const [y, m, d] = dateStr.split('-').map(Number);
      return new Date(y, m - 1, d);
    }

    // Sort real dates, keep TBD at the top of Upcoming
    const now = new Date();
    let nextEventEnd = null;

    const upcomingContainer = document.getElementById('upcoming-container');
    const pastContainer = document.getElementById('past-container');

    allParties.forEach(party => {
      let eventDate = parseLocalDate(party.date);
      let isTBD = party.date === "TBD";
      let displayDate = isTBD ? "TBD" : eventDate.toLocaleDateString('en-US', {
        month: 'long', day: 'numeric', year: 'numeric'
      });

      let eventEnd = null;
      if (!isTBD) {
        eventEnd = new Date(eventDate);
        eventEnd.setDate(eventEnd.getDate() + 1);
        eventEnd.setHours(2, 0, 0, 0);
      }

      const isUpcoming = isTBD || now < eventEnd;

      const eventHTML = `
        <div class="event" data-date="${party.date}">
          <h3>${party.title}</h3>
          <p>Date: ${displayDate}</p>
          <p>${party.desc || ''}</p>
          <a href="${party.sls}" target="_blank">${party.slsText}</a>
        </div>
      `;

      if (isUpcoming) {
        upcomingContainer.insertAdjacentHTML('beforeend', eventHTML);
        if (!isTBD && (!nextEventEnd || eventEnd < nextEventEnd)) {
          nextEventEnd = eventEnd;
        }
      } else {
        pastContainer.insertAdjacentHTML('beforeend', eventHTML);
      }
    });

    // Countdown only uses real upcoming events
    const countdownEl = document.getElementById('countdown');
    function updateCountdown() {
      if (!nextEventEnd) {
        countdownEl.textContent = 'No upcoming dated events';
        return;
      }
      const diff = nextEventEnd - Date.now();
      if (diff <= 0) {
        location.reload();
        return;
      }
      const d = Math.floor(diff / 86400000);
      const h = Math.floor((diff % 86400000) / 3600000);
      const m = Math.floor((diff % 3600000) / 60000);
      const s = Math.floor((diff % 60000) / 1000);
      countdownEl.innerHTML = `${d}d : ${h.toString().padStart(2,'0')}h : ${m.toString().padStart(2,'0')}m : ${s.toString().padStart(2,'0')}s`;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // Lasers animation
    const lasers = document.querySelectorAll('.laser');
    lasers.forEach(laser => {
      let currentAngle = Math.random() * 360;
      let isAnimating = false;

      function getRandomDuration() {
        return 3000 + Math.random() * 4000;
      }

      function animate() {
        if (isAnimating) return;
        isAnimating = true;
        const targetAngle = Math.random() * 360;
        const duration = getRandomDuration();
        laser.style.transition = `transform ${duration}ms ease-in-out`;
        laser.style.transform = `translate(-50%, -50%) rotate(${targetAngle}deg)`;
        setTimeout(() => {
          currentAngle = targetAngle;
          isAnimating = false;
          animate();
        }, duration);
      }

      laser.style.transform = `translate(-50%, -50%) rotate(${currentAngle}deg)`;
      setTimeout(animate, 0);
    });
  </script>
</body>
</html>
