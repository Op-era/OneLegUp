<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>One Leg Up - Swingers Club</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <!-- Three.js (via CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.167.1/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.167.1/examples/js/controls/OrbitControls.js"></script>

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:'Poppins',sans-serif;
      background:#000;color:#fff;overflow:hidden;
      perspective:1000px;
    }
    #threejs-container{
      position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;
    }
    .overlay{
      position:relative;z-index:1;
      min-height:100vh;padding:80px 50px 40px 50px;
      max-width:1200px;margin:0 auto;
      pointer-events:none;               /* let clicks pass through to 3-D scene */
    }
    .overlay > *{pointer-events:auto;}   /* re-enable for UI elements */
    .header{
      position:fixed;top:20px;left:20px;z-index:1000;
    }
    .site-title{
      font-size:2rem;font-weight:600;color:#ff00ff;
      text-shadow:0 0 12px #ff00ff,0 0 24px #ff00ff;
      animation:neonPulse 2s ease infinite;
    }
    .content{
      display:flex;flex-wrap:wrap;gap:30px;
      margin-top:30px;pointer-events:auto;
    }
    .left{
      flex:2 1 60%;display:flex;flex-direction:column;align-items:center;
    }
    .notice{
      text-align:center;font-weight:bold;color:#ff0000;
      font-size:1.4rem;margin:15px 0;padding:12px 20px;
      background:rgba(255,0,0,.1);border:2px solid #ff0000;
      border-radius:10px;max-width:700px;
      text-shadow:0 0 10px #ff0000;
      animation:flashGrow 2s ease-in-out infinite;
    }
    .rsvp-button{
      margin-top:20px;padding:12px 30px;
      background:#ff00ff;color:#000;font-weight:600;
      text-decoration:none;border-radius:8px;
      box-shadow:0 0 12px #ff00ff;
      transition:background .3s,box-shadow .3s;
    }
    .rsvp-button:hover{
      background:#00ff00;box-shadow:0 0 18px #00ff00;
    }
    .countdown{
      margin-top:20px;font-size:1.6rem;color:#00ffff;
      text-shadow:0 0 10px #00ffff;
    }
    .flyer{
      max-width:80%;margin-top:20px;border-radius:12px;
      box-shadow:0 0 20px #00ff00;
    }
    .events{
      flex:1 1 35%;padding:20px;overflow-y:auto;
      max-height:70vh;background:rgba(26,0,51,.4);
      border-radius:12px;
    }
    .events h2{
      font-size:1.8rem;color:#00ffff;
      text-shadow:0 0 10px #00ffff;
      animation:neonPulse 2s ease infinite;
    }
    .event{
      margin-bottom:20px;padding:12px;border-radius:8px;
      background:rgba(0,0,0,.3);transition:transform .3s,box-shadow .3s;
    }
    .event:hover{transform:scale(1.04);box-shadow:0 0 15px #ff00ff;}
    .event h3{
      font-size:1.4rem;color:#ff00ff!important;
      text-shadow:0 0 10px #ff00ff;
      animation:neonPulse 3s ease infinite!important;
    }
    .event h3 a{color:inherit!important;text-decoration:none;}
    .event h3 a:hover{color:#00ff00!important;text-shadow:0 0 10px #00ff00;}
    .event p{font-size:.9rem;color:#00ffff;text-shadow:0 0 5px #00ffff;}
    .event a{color:#ff00ff;text-decoration:none;font-weight:600;
      text-shadow:0 0 5px #ff00ff;}
    .event a:hover{color:#00ff00;text-shadow:0 0 10px #00ff00;}
    .thumbnail{max-width:100px;border-radius:5px;margin-top:10px;
      box-shadow:0 0 10px #00ff00;}

    @keyframes neonPulse{
      0%,100%{text-shadow:0 0 10px #ff00ff,0 0 20px #ff00ff}
      50%{text-shadow:0 0 15px #00ffff,0 0 25px #00ffff}
    }
    @keyframes flashGrow{
      0%,100%{transform:scale(1);opacity:1;text-shadow:0 0 10px #ff0000,0 0 20px #ff0000}
      50%{transform:scale(1.05);opacity:.9;text-shadow:0 0 25px #ff0000,0 0 35px #ff0000}
    }

    @media (max-width:768px){
      .content{flex-direction:column;}
      .left,.events{width:100%;}
      .site-title{font-size:1.5rem;}
      .notice{font-size:1.1rem;padding:10px 15px;}
      .rsvp-button{font-size:.9rem;padding:10px 20px;}
      .countdown{font-size:1.3rem;}
      .overlay{padding:70px 20px 40px 20px;}
    }
  </style>
</head>
<body>

  <!-- 3-D Scene Container -->
  <div id="threejs-container"></div>

  <!-- UI Overlay -->
  <div class="overlay">
    <div class="header">
      <h1 class="site-title">One Leg Up</h1>
    </div>

    <div class="content">
      <!-- LEFT COLUMN -->
      <div class="left">
        <div class="notice">
          All pay will be cash in envelopes at the door.
        </div>

        <!-- RSVP BUTTON -->
        <a href="sms:15597875801?body=RSVP%20-%20My%20SLS%20username%20is%3A%20"
           class="rsvp-button">
          Text to RSVP (include your SLS username)
        </a>

        <!-- COUNTDOWN -->
        <div class="countdown" id="countdown">Loading...</div>

        <img src="images/neonglow.jpg" alt="Neon Glow Party Flyer" class="flyer" />
      </div>

      <!-- RIGHT COLUMN - EVENTS -->
      <div class="events">
        <h2>Upcoming Parties</h2>

        <div class="event" data-date="2025-11-15">
          <h3><a href="payment.html">NEON GLOW PARTY</a></h3>
          <p>Date: November 15, 2025<br>Location: 1838 E. Everglade Ave, Fresno, CA 93720</p>
          <p>Light up the night! Dress in vibrant neon. 8 PM – 2 AM. Doors close 10 PM. BYOB.</p>
          <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=399642" target="_blank">View on SLS</a>
        </div>

        <h2 style="margin-top:40px;">Past Events</h2>

        <div class="event" data-date="2025-10-04">
          <h3><a href="payment.html">Oktoberfest Party</a></h3>
          <p>Date: October 4, 2025<br>Location: 1838 E. Everglade Ave, Fresno, CA 93720</p>
          <p>8 PM – 2 AM. Doors close 10 PM. BYOB.</p>
          <a href="https://www.swinglifestyle.com/events/showEvent.cfm?eventID=398628" target="_blank">View on SLS</a>
        </div>

        <div class="event" data-date="2025-07-20">
          <h3><a href="payment.html">Sunday Funday Pool Party</a></h3>
          <p>Date: July 20, 2025<br>Location: Fresno, CA</p>
          <p>Wet adult fun. Mixers provided. BYOB.</p>
          <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=395723" target="_blank">View on SLS</a>
        </div>

        <div class="event" data-date="2025-05-31">
          <h3><a href="payment.html">Skinny Dipping Pool Party</a></h3>
          <p>Date: May 31, 2025<br>Location: Fresno, CA</p>
          <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=393639" target="_blank">View on SLS</a>
          <img src="images/pool_party.jpg" alt="Pool Party" class="thumbnail" />
        </div>
      </div>
    </div>
  </div>

  <!-- THREE.JS SCENE SCRIPT -->
  <script>
    // ---------- 3-D CLUB ROOM ----------
    const container = document.getElementById('threejs-container');

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    container.appendChild(renderer.domElement);

    // Fog for depth
    scene.fog = new THREE.FogExp2(0x000000, 0.015);

    // Lights
    const ambient = new THREE.AmbientLight(0x404040, 0.6);
    scene.add(ambient);

    // Neon point lights (pink, cyan, lime)
    const pinkLight = new THREE.PointLight(0xff00ff, 2, 30);
    pinkLight.position.set(-5, 4, -5);
    scene.add(pinkLight);

    const cyanLight = new THREE.PointLight(0x00ffff, 2, 30);
    cyanLight.position.set(5, 4, -5);
    scene.add(cyanLight);

    const limeLight = new THREE.PointLight(0x00ff00, 2, 30);
    limeLight.position.set(0, 4, 5);
    scene.add(limeLight);

    // Floor (grid with glow)
    const floorGeo = new THREE.PlaneGeometry(30, 30);
    const floorMat = new THREE.MeshStandardMaterial({
      color: 0x111111,
      emissive: 0x00ff00,
      emissiveIntensity: 0.2,
      metalness: 0.8,
      roughness: 0.2
    });
    const floor = new THREE.Mesh(floorGeo, floorMat);
    floor.rotation.x = -Math.PI / 2;
    floor.position.y = -0.01;
    scene.add(floor);

    // Add subtle grid lines
    const grid = new THREE.GridHelper(30, 60, 0x00ff00, 0x00ff00);
    grid.material.opacity = 0.15;
    grid.material.transparent = true;
    scene.add(grid);

    // Walls (simple boxes)
    const wallMat = new THREE.MeshStandardMaterial({ color: 0x1a0033, metalness: 0.9, roughness: 0.2 });
    const backWall = new THREE.Mesh(new THREE.BoxGeometry(30, 12, 0.5), wallMat);
    backWall.position.set(0, 6, -15);
    scene.add(backWall);

    const leftWall = new THREE.Mesh(new THREE.BoxGeometry(0.5, 12, 30), wallMat);
    leftWall.position.set(-15, 6, 0);
    scene.add(leftWall);

    const rightWall = new THREE.Mesh(new THREE.BoxGeometry(0.5, 12, 30), wallMat);
    rightWall.position.set(15, 6, 0);
    scene.add(rightWall);

    // Rotating "One Leg Up" sign
    const signGeo = new THREE.BoxGeometry(6, 1.5, 0.2);
    const signMat = new THREE.MeshStandardMaterial({ color: 0xff00ff, emissive: 0xff00ff, emissiveIntensity: 0.8 });
    const sign = new THREE.Mesh(signGeo, signMat);
    sign.position.set(0, 8, -14.7);
    scene.add(sign);

    // Add text to the sign (using canvas texture)
    const canvas = document.createElement('canvas');
    canvas.width = 512; canvas.height = 128;
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#000';
    ctx.fillRect(0,0,512,128);
    ctx.font = 'bold 80px Poppins';
    ctx.fillStyle = '#fff';
    ctx.textAlign = 'center';
    ctx.fillText('One Leg Up', 256, 90);
    const signTex = new THREE.CanvasTexture(canvas);
    sign.material.map = signTex;
    sign.material.needsUpdate = true;

    // Lasers (thin cylinders that rotate)
    const laserMat = new THREE.MeshBasicMaterial({ color: 0x00ffff, transparent: true, opacity: 0.7 });
    const laser1 = new THREE.Mesh(new THREE.CylinderGeometry(0.05, 0.05, 20, 8), laserMat);
    laser1.rotation.z = Math.PI / 2;
    laser1.position.set(-8, 3, 0);
    scene.add(laser1);

    const laser2 = new THREE.Mesh(new THREE.CylinderGeometry(0.05, 0.05, 20, 8), laserMat);
    laser2.rotation.z = Math.PI / 2;
    laser2.position.set(8, 3, 0);
    scene.add(laser2);

    // Camera position
    camera.position.set(0, 5, 12);
    camera.lookAt(0, 3, 0);

    // Optional orbit controls (uncomment to enable mouse drag)
    // const controls = new THREE.OrbitControls(camera, renderer.domElement);
    // controls.enableDamping = true;

    // Animation loop
    const clock = new THREE.Clock();
    function animate() {
      requestAnimationFrame(animate);
      const t = clock.getElapsedTime();

      // Pulse lights
      pinkLight.intensity = 2 + Math.sin(t * 3) * 0.5;
      cyanLight.intensity = 2 + Math.sin(t * 3 + 2) * 0.5;
      limeLight.intensity = 2 + Math.sin(t * 3 + 4) * 0.5;

      // Rotate sign
      sign.rotation.y = t * 0.8;

      // Spin lasers
      laser1.rotation.y = t * 2;
      laser2.rotation.y = -t * 2.5;

      // Subtle floor glow pulse
      floor.material.emissiveIntensity = 0.2 + Math.sin(t * 4) * 0.1;

      // controls.update && controls.update();
      renderer.render(scene, camera);
    }
    animate();

    // Resize handler
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // ---------- COUNTDOWN TIMER ----------
    const partyDate = new Date('2025-11-15T20:00:00-08:00'); // 8 PM Pacific
    const countdownEl = document.getElementById('countdown');

    function updateCountdown() {
      const now = new Date();
      const diff = partyDate - now;

      if (diff <= 0) {
        countdownEl.textContent = 'Party is ON!';
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      countdownEl.innerHTML = `
        ${days}<span style="font-size:.7em;">d</span> :
        ${hours.toString().padStart(2,'0')}<span style="font-size:.7em;">h</span> :
        ${minutes.toString().padStart(2,'0')}<span style="font-size:.7em;">m</span> :
        ${seconds.toString().padStart(2,'0')}<span style="font-size:.7em;">s</span>
      `;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>
</body>
</html>
