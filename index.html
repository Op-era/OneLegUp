<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>One Leg Up - Swingers Club</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: #000;
      color: #fff;
      position: relative;
      overflow-x: hidden;
    }
    #smokeCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
      display: block;
    }
    .container {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      padding: 0 20px 40px 20px;
    }
    .header {
      position: fixed;
      top: 20px;
      left: 20px;
      display: flex;
      align-items: center;
      z-index: 1000;
      height: 60px;
    }
    .hamburger {
      cursor: pointer;
      margin-right: 15px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 5px;
    }
    .hamburger div {
      width: 30px;
      height: 3px;
      background: #fff;
      transition: all 0.3s ease;
    }
    .hamburger.active div:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    .hamburger.active div:nth-child(2) {
      opacity: 0;
    }
    .hamburger.active div:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }
    .site-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #ffeb3b;
      text-shadow: 0 0 10px rgba(255, 107, 97, 0.8);
      animation: colorCycle 5s ease infinite;
      user-select: none;
    }
    .menu {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background: #1a1a1a;
      transition: left 0.3s ease;
      z-index: 999;
      padding-top: 60px;
    }
    .menu.active {
      left: 0;
    }
    .menu ul {
      list-style: none;
      padding: 0 20px;
    }
    .menu ul li {
      margin: 20px 0;
    }
    .menu ul li a {
      color: #fff;
      text-decoration: none;
      font-size: 1.2rem;
      transition: color 0.3s;
    }
    .menu ul li a:hover {
      color: #ff6f61;
    }
    .content {
      display: flex;
      flex-wrap: wrap;
      margin-top: 150px;
      min-height: calc(100vh - 150px);
    }
    .image-area {
      flex: 2 1 60%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
    }
    .image-area img {
      max-width: 80%;
      max-height: 40%;
      object-fit: contain;
      margin-top: 20px;
      border-radius: 10px;
    }
    .notice-banner {
      text-align: center;
      font-weight: bold;
      color: #0ff;
      font-size: 1.2rem;
      text-shadow:
        0 0 5px #0ff,
        0 0 10px #0ff,
        0 0 20px #0ff,
        0 0 30px #0ff,
        0 0 40px #0ff;
      margin-bottom: 20px;
      position: relative;
      width: fit-content;
      margin-left: auto;
      margin-right: auto;
    }
    .payment-buttons {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 20px;
      width: 100%;
      max-width: 500px;
    }
    .pay-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
      flex: 1;
    }
    .pay-group p {
      font-weight: 700;
      color: #00e5ff;
      text-align: center;
      margin-bottom: 8px;
      text-shadow: 0 0 5px #00e5ff;
    }
    .pay-button {
      display: inline-block;
      padding: 10px 20px;
      background: #00e5ff;
      color: #000;
      font-size: 1rem;
      font-weight: 600;
      text-decoration: none;
      border-radius: 5px;
      transition: background 0.3s, color 0.3s;
      text-align: center;
      user-select: none;
    }
    .pay-button:hover {
      background: #ff4081;
      color: #fff;
    }
    .events {
      flex: 1 1 35%;
      padding: 20px;
      overflow-y: auto;
      position: relative;
      z-index: 1;
      max-height: 70vh;
    }
    .events h2 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      color: #fff;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
      animation: colorPulse 8s ease infinite;
    }
    .event {
      margin-bottom: 20px;
      padding: 10px;
      border-radius: 8px;
      background: rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
      cursor: default;
    }
    .event:hover {
      transform: scale(1.05);
    }
    .event h3 {
      font-size: 1.4rem;
      color: #ffeb3b;
      animation: colorCycle 10s ease infinite;
      user-select: text;
    }
    .event h3.color1 {
      animation-delay: 0s;
      color: #ffeb3b;
    }
    .event h3.color2 {
      animation-delay: 3s;
      color: #40c4ff;
    }
    .event h3.color3 {
      animation-delay: 6s;
      color: #ff4081;
    }
    .event h3 a {
      color: inherit;
      text-decoration: none;
      transition: color 0.3s;
    }
    .event h3 a:hover {
      color: #ff4081;
      text-decoration: underline;
    }
    .event p {
      font-size: 0.9rem;
      color: #e0e0e0;
      margin-bottom: 8px;
      user-select: text;
    }
    .event a {
      color: #00e5ff;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }
    .event a:hover {
      color: #ff4081;
      text-decoration: underline;
    }
    .thumbnail {
      max-width: 100px;
      border-radius: 5px;
      margin-top: 10px;
    }
    @keyframes colorCycle {
      0%, 100% { color: #ffeb3b; text-shadow: 0 0 10px #ffeb3b; }
      33% { color: #40c4ff; text-shadow: 0 0 10px #40c4ff; }
      66% { color: #ff4081; text-shadow: 0 0 10px #ff4081; }
    }
    @keyframes colorPulse {
      0%, 100% { text-shadow: 0 0 10px rgba(255, 107, 97, 0.8); }
      50% { text-shadow: 0 0 15px rgba(64, 196, 255, 0.8); }
    }
    @keyframes flashGrow {
      0%, 100% { opacity: 1; transform: scale(1); text-shadow: 0 0 10px #0ff, 0 0 20px #0ff; }
      50% { opacity: 0.5; transform: scale(1.3); text-shadow: 0 0 30px #0ff, 0 0 40px #0ff; }
    }
    .flashing-text {
      animation: flashGrow 2s ease-in-out infinite;
      color: #0ff;
      font-weight: bold;
      text-align: center;
      margin: 0 auto 20px auto;
      width: fit-content;
      user-select: none;
      text-shadow:
        0 0 10px #0ff,
        0 0 20px #0ff,
        0 0 30px #0ff,
        0 0 40px #0ff,
        0 0 50px #0ff;
    }
    /* Responsive */
    @media (max-width: 768px) {
      .content {
        flex-direction: column;
        margin-top: 120px;
        min-height: calc(100vh - 120px);
      }
      .image-area, .events {
        width: 100%;
        max-height: none;
      }
      .image-area img {
        max-width: 90%;
        max-height: 25%;
        margin-top: 10px;
      }
      .payment-buttons {
        flex-direction: column;
        gap: 10px;
        max-width: none;
      }
      .pay-group {
        flex: none;
        width: 100%;
      }
      .pay-button {
        width: 80%;
        text-align: center;
        margin: 0 auto;
      }
      .header {
        left: 10px;
      }
      .site-title {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <canvas id="smokeCanvas"></canvas>

  <div class="header">
    <div class="hamburger" id="hamburger" onclick="toggleMenu()">
      <div></div><div></div><div></div>
    </div>
    <h1 class="site-title">One Leg Up</h1>
  </div>

  <nav class="menu" id="menu">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="events.html">Upcoming Events</a></li>
      <li><a href="about.html">About Us</a></li>
      <li><a href="contact.html">Contact Us</a></li>
    </ul>
  </nav>

  <div class="container">
    <div class="notice-banner" style="max-width: 500px; margin-left:auto; margin-right:auto; margin-bottom: 10px;">
      <marquee behavior="scroll" direction="left" scrollamount="5" style="width:100%; color:#0ff; text-shadow: 0 0 10px #0ff, 0 0 20px #0ff, 0 0 30px #0ff;">
        ALL SINGLE MALES MUST PAY IN ADVANCE OR THEY WILL NOT BE ADMITTED! 
        <span class="flashing-text">$10 more at the door!</span>
      </marquee>
    </div>

    <div class="content">
      <div class="image-area">
        <img src="images/pool_party2.jpg" alt="Sunday Funday Pool Party" />
        <div class="payment-buttons" id="paymentButtons">
          <div class="pay-group">
            <p>Couples ($40):</p>
            <a href="https://paypal.me/0neLegUp/40" target="_blank" class="pay-button">Pay $40 with PayPal</a>
            <a href="https://cash.app/$0neLegUp?amount=40" target="_blank" class="pay-button">Pay $40 with Cash App</a>
            <a href="https://venmo.com/u/One_Leg_Up?txn=pay&amount=40&note=Couples" target="_blank" class="pay-button">Pay $40 with Venmo</a>
          </div>
          <div class="pay-group">
            <p>Single Male ($80):</p>
            <a href="https://paypal.me/0neLegUp/80" target="_blank" class="pay-button">Pay $80 with PayPal</a>
            <a href="https://cash.app/$0neLegUp?amount=80" target="_blank" class="pay-button">Pay $80 with Cash App</a>
            <a href="https://venmo.com/u/One_Leg_Up?txn=pay&amount=80&note=Single%20Male" target="_blank" class="pay-button">Pay $80 with Venmo</a>
          </div>
        </div>
      </div>

      <div class="events" id="eventsContainer">
        <h2>Upcoming Parties</h2>
        <div class="event" data-date="2025-07-20">
          <h3 class="color1"><a href="payment.html">Sunday Funday Pool Party</a></h3>
          <p>Date: July 20, 2025<br />Location: Fresno, CA</p>
          <p>Join us for a Sunday funday! Full Millions of years ago, the earth was populated by enormous creatures: dinosaurs. They are extinct now, but we can still find their fossil remains all over the world, even in your backyard. If you want to learn more about these amazing animals, join us for a fossil-digging adventure. All you need is a shovel, a brush, and a lot of patience. Are you ready to become a paleontologist? of wet play time for adults! Dive into the fun and connect with like-minded individuals in a relaxed, vibrant atmosphere. Mixers will be provided. BYOB</p>
          <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=395723" target="_blank">View on SLS</a>
        </div>
        <div class="event" data-date="2025-09-10">
          <h3 class="color2">I'm almost there</h3>
          <p>Date: September 10, 2025<br>Location: Private Venue, CA</p>
          <a href="https://www.swinglifestyle.com" target="_blank">View on SLS</a>
        </div>

        <h2 style="margin-top: 40px;">Past Events</h2>
        <div id="pastEvents">
          <div class="event" data-date="2025-05-31">
            <h3 class="color3"><a href="payment.html">Skinny Dipping Pool Party</a></h3>
            <p>Date: May 31, 2025<br>Location: Fresno, CA</p>
            <a href="https://www.swinglifestyle.com/events/showevent.cfm?eventid=393639" target="_blank">View on SLS</a>
            <img src="images/pool_party.jpg" alt="Skinny Dipping Pool Party Thumbnail" class="thumbnail" />
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
  <script>
    // Hamburger Menu Toggle
    const hamburger = document.getElementById('hamburger');
    const menu = document.getElementById('menu');
    function toggleMenu() {
      hamburger.classList.toggle('active');
      menu.classList.toggle('active');
    }

    // Water effect using Three.js with realistic pool waves and caustics
    const scene = new THREE.Scene();
    const camera = new THREE.OrthographicCamera(
      window.innerWidth / -200, window.innerWidth / 200,
      window.innerHeight / 200, window.innerHeight / -200,
      0.1, 100
    );
    camera.position.set(0, 10, 0);
    camera.lookAt(0, 0, 0);

    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('smokeCanvas'), alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

    // Plane geometry for water surface
    const geometry = new THREE.PlaneGeometry(10, 10, 128, 128);
    geometry.rotateX(-Math.PI / 2);

    // Noise function for wave variation
    function mod289(x) { return x - Math.floor(x * (1.0 / 289.0)) * 289.0; }
    function permute(x) { return mod289(((x * 34.0) + 1.0) * x); }
    function snoise(v) {
      const vec2 C = [1.0 / 6.0, 1.0 / 3.0];
      const vec4 D = [0.0, 0.5, 1.0, 2.0];
      let i = [Math.floor(v[0]), Math.floor(v[1])];
      let x0 = [v[0] - i[0], v[1] - i[1]];
      let i1 = x0[0] > x0[1] ? [1.0, 0.0] : [0.0, 1.0];
      let x12 = [x0[0] + C[0] - i1[0], x0[1] + C[0] - i1[1], x0[0] + C[1], x0[1] + C[1]];
      i = mod289(i);
      let p = permute(permute(i[1] + [0.0, i1[1], 1.0]) + i[0] + [0.0, i1[0], 1.0]);
      let m = Math.max(0.5 - [x0[0] * x0[0] + x0[1] * x0[1], x12[0] * x12[0] + x12[1] * x12[1], x12[2] * x12[2] + x12[3] * x12[3]], 0.0);
      m = m * m * m * m;
      let x = 2.0 * (p * 0.0243902439) - 1.0;
      let h = Math.abs(x) - 0.5;
      let ox = Math.floor(x + 0.5);
      let a0 = x - ox;
      m *= 1.79284291400159 - 0.85373472095314 * (a0 * a0 + h * h);
      let g = [
        a0[0] * x0[0] + h[0] * x0[1],
        a0[1] * x12[0] + h[1] * x12[1],
        a0[2] * x12[2] + h[2] * x12[3]
      ];
      return 130.0 * (m[0] * g[0] + m[1] * g[1] + m[2] * g[2]);
    }

    // Shader material for water
    const material = new THREE.ShaderMaterial({
      vertexShader: `
        uniform float time;
        varying vec2 vUv;
        varying vec3 vNormal;
        varying vec3 vPosition;

        float snoise(vec2 v) {
          // Simplified noise function (pasted from JS for shader compatibility)
          vec2 i = floor(v);
          vec2 f = fract(v);
          float a = fract(sin(dot(i, vec2(127.1, 311.7))) * 43758.5453123);
          float b = fract(sin(dot(i + vec2(1.0, 0.0), vec2(127.1, 311.7))) * 43758.5453123);
          float c = fract(sin(dot(i + vec2(0.0, 1.0), vec2(127.1, 311.7))) * 43758.5453123);
          float d = fract(sin(dot(i + vec2(1.0, 1.0), vec2(127.1, 311.7))) * 43758.5453123);
          vec2 u = f * f * (3.0 - 2.0 * f);
          return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
        }

        void main() {
          vUv = uv;
          vec3 pos = position;
          float t = time * 0.5;

          // Multi-layered waves with noise for natural variation
          pos.y += 0.1 * sin(pos.x * 3.0 + t) * cos(pos.z * 2.0 + t * 0.8);
          pos.y += 0.05 * cos(pos.z * 4.0 + t * 1.2) * sin(pos.x * 2.0 + t * 0.6);
          pos.y += 0.03 * snoise(vec2(pos.x * 2.0, pos.z * 2.0 + t * 0.3));

          vPosition = pos;

          // Compute normal for lighting
          vec3 dx = vec3(1.0, 0.0, 0.0);
          vec3 dz = vec3(0.0, 0.0, 1.0);
          float dy_dx = 0.3 * cos(pos.x * 3.0 + t) * cos(pos.z * 2.0 + t * 0.8) +
                        0.1 * cos(pos.z * 4.0 + t * 1.2) * cos(pos.x * 2.0 + t * 0.6);
          float dy_dz = -0.2 * sin(pos.x * 3.0 + t) * sin(pos.z * 2.0 + t * 0.8) +
                        -0.2 * sin(pos.z * 4.0 + t * 1.2) * sin(pos.x * 2.0 + t * 0.6);
          vNormal = normalize(vec3(-dy_dx, 1.0, -dy_dz));

          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
        }
      `,
      fragmentShader: `
        uniform float time;
        varying vec2 vUv;
        varying vec3 vNormal;
        varying vec3 vPosition;

        float snoise(vec2 v) {
          // Simplified noise function (same as vertex shader)
          vec2 i = floor(v);
          vec2 f = fract(v);
          float a = fract(sin(dot(i, vec2(127.1, 311.7))) * 43758.5453123);
          float b = fract(sin(dot(i + vec2(1.0, 0.0), vec2(127.1, 311.7))) * 43758.5453123);
          float c = fract(sin(dot(i + vec2(0.0, 1.0), vec2(127.1, 311.7))) * 43758.5453123);
          float d = fract(sin(dot(i + vec2(1.0, 1.0), vec2(127.1, 311.7))) * 43758.5453123);
          vec2 u = f * f * (3.0 - 2.0 * f);
          return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
        }

        void main() {
          vec3 poolColor = vec3(0.05, 0.3, 0.6); // Deep pool blue
          vec3 lightColor = vec3(0.8, 0.9, 1.0); // Light blue for caustics
          vec3 lightDir = normalize(vec3(0.5, 1.0, 0.2)); // Light source direction

          // Caustic effect
          vec2 uv = vUv * 10.0 + vec2(time * 0.1, time * 0.15);
          float caustic1 = sin(uv.x + snoise(uv + time * 0.2)) * cos(uv.y + snoise(uv + time * 0.3));
          float caustic2 = snoise(uv + vec2(time * 0.1, time * 0.2)) * 0.5;
          float caustic = smoothstep(0.2, 0.8, caustic1 + caustic2) * 0.6;

          // Pool bottom texture
          float tilePattern = sin(vUv.x * 50.0) * sin(vUv.y * 50.0) * 0.05 + 0.95;
          vec3 baseColor = poolColor * tilePattern;

          // Lighting with normal
          float diffuse = max(dot(vNormal, lightDir), 0.0);
          vec3 color = baseColor + caustic * lightColor * diffuse;

          // Add slight refraction effect
          float refraction = snoise(vUv * 5.0 + time * 0.1) * 0.05;
          color += vec3(refraction) * 0.2;

          // Add subtle water surface glint
          float glint = pow(diffuse, 10.0) * 0.3;
          color += vec3(glint) * lightColor;

          gl_FragColor = vec4(color, 0.6); // Slightly transparent water
        }
      `,
      uniforms: {
        time: { value: 0 }
      },
      transparent: true,
      side: THREE.DoubleSide,
    });

    const water = new THREE.Mesh(geometry, material);
    scene.add(water);

    window.addEventListener('resize', () => {
      camera.left = window.innerWidth / -200;
      camera.right = window.innerWidth / 200;
      camera.top = window.innerHeight / 200;
      camera.bottom = window.innerHeight / -200;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    function animate() {
      requestAnimationFrame(animate);
      material.uniforms.time.value += 0.02;
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
